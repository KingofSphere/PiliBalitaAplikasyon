#:import CircularProgressBar progressbar
#:import Clipboard kivy.core.clipboard.Clipboard
#:import MDSpinner kivymd.uix.spinner
#:import MDIconButton kivymd.uix.button
#:set kulay_ng_textfield 126/255, 84/255, 36/255, .5
#:set pangunahing_kulay 197/255, 130/255, 51/255, 255/255
#:set pangalawang_kulay 208/255, 167/255, 106/255, 255/255
#:set pangatlong_kulay 126/255, 84/255, 36/255, 255/255

BoxLayoutScreen:

<BoxLayoutScreen>:
    canvas.before:
        Color:
            rgba: pangunahing_kulay
        Rectangle:
            size: self.size 
            pos: self.pos

    orientation: "vertical"
    Ulo:
    Katawan:
      
<Ulo@BoxLayout>:
    size_hint: 1, None
    height: "50dp"
    Image:
        source: "larawan/pili-balita-logo.png"

<Katawan@BoxLayout>:
    orientation: "vertical"
    BoxLayout:
        padding: [10, 0, 10, 20]
        MDTextField:
            id: balita
            mode: "fill"
            multiline: True
            hint_text: "Ilagay ang balita dito o pindutin ang Paste icon"
            current_hint_text_color: [0, 0, 0]
            color_mode: 'custom'
            fill_color: kulay_ng_textfield
            line_color_focus: pangatlong_kulay
            pos_hint: {'center_x': 0.57, 'center_y': 0.48}
            size_hint: 1, 1         
            font_size: "20dp"
            text_color: 0, 0, 0, 1     

    BoxLayout:
        orientation: "horizontal"
        size_hint: 1, None
        height: "60dp"
        padding: [10, 18.5, 10, 10]

        BoxLayout:
            orientation: "horizontal"
            size_hint: 0.45, 0.5
            padding: [7, 100, 10, 5]

            MDIconButton:
                icon: "larawan/tuldok-pahalang-icon.png"
                user_font_size: "5dp"
                on_release: root.ipakita_ang_iba_pang_kagamitan()

            MDLabel:
                text: "" 
                size_hint: 0.005, 1

            MDIconButton:
                icon: "larawan/basurahan-icon.png"
                user_font_size: "5dp"
                on_release: root.alisin()

            MDLabel:
                text: "" 
                size_hint: 0.005, 1

            MDIconButton:
                icon: "larawan/paste-icon.png"
                user_font_size: "5dp"
                on_release:
                    balita.text = balita.text + Clipboard.paste()
            
        Button:
            background_color: 0, 0, 0, 0
            text: "TUKLASIN!"
            font_name: "makinilya/seguibl.ttf"
            font_size: "20dp"
            md_bg_color: 142/255, 70/255, 26/255, 1
            on_release: root.tuklasin() 

            canvas.before:
                Color:
                    rgba: (pangatlong_kulay) if self.state=='normal' else (pangalawang_kulay)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [10,]

<Resulta>:
    size_hint_x: 1
    size_hint_y: None
    height: "160dp"

    MDSpinner:
        id: paikot 
        size_hint: None, None
        size: dp(50), dp(50)
        pos_hint: {'center_x': .5, 'center_y': .65}
        active: True

    CircularProgressBar:
        id: resulta_progressbar
        pos_hint: {'center_x': .765}
        pos: 110, 650
        value: 0
    
    MDLabel:
        id: kawastuhan
        text: ""
        font_name: 'makinilya//seguibl.ttf'
        font_size: "10dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.80}
        halign: 'center'

    MDLabel:
        id: resulta_porsyento
        text: ""
        font_name: 'makinilya//seguibl.ttf'
        font_size: "40dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.66}
        halign: 'center'

    MDIconButton:
        id: prediksyon_unang_icon
        icon: ""
        theme_text_color: "Custom"
        text_color: (1, 0, 0, 1)
        user_font_size: '30sp'
        pos_hint: {'center_x': 0.1, 'center_y': 0.25}
    
    MDIconButton:
        id: prediksyon_pangalawang_icon
        icon: ""
        theme_text_color: "Custom"
        text_color: (1, 0, 0, 1)
        user_font_size: '30sp'
        pos_hint: {'center_x': 0.9, 'center_y': 0.25}


    MDLabel:
        id: resulta
        text: ""
        theme_text_color: "Custom"
        text_color: 0, 0, 0, 1
        font_name: 'makinilya//seguibl.ttf'
        font_size: "18dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.25}
        halign: 'center'

<KabuuangResulta>:
    size_hint_x: 1
    size_hint_y: None
    height: "120dp"

    GridLayout:
        cols: 3
        rows: 1
        size_hint: 1, 1
        pos_hint: {'center_x': 0.5, 'center_y': 0.6}
        
        BoxLayout:
            size_hint: 1, 1
            orientation: "vertical"
            MDLabel:
                text: "ALGORITMO"
                font_style: 'H6'
                pos_hint: {'center_x': 0.4, 'y': 0.5}
                valign: 'top'
                halign: 'center'

            MDLabel:
                text: " LR Prediksyon:"
                font_style: 'Body1'
                pos_hint: {'center_x': 0.60, 'center_y': 0.75}
                valign: 'center'

            MDLabel:
                text: " DT Prediksyon:"
                font_style: 'Body1'
                pos_hint: {'center_x': 0.60, 'center_y': 0.55}
                valign: 'center'
            
            MDLabel:
                text: " RFC Prediksyon:"
                font_style: 'Body1'
                pos_hint: {'center_x': 0.60, 'center_y': 0.35}
                valign: 'center'

        BoxLayout:
            size_hint: 0.3, 1
            orientation: "vertical"
            MDLabel:
                text: "(%)"
                font_style: 'H6'
                pos_hint: {'center_x': 0.5, 'y': 0.5}
                valign: 'top'
                halign: 'center'

            MDLabel:
                id: lr_porsyento
                text: ""
                font_style: 'Body1'
                pos_hint: {'center_x': 0.85, 'center_y': 0.35}
                valign: 'center'

            MDLabel:
                id: dt_porsyento
                text: ""
                font_style: 'Body1'
                pos_hint: {'center_x': 0.85, 'center_y': 0.35}
                valign: 'center'
            
            MDLabel:
                id: rfc_porsyento
                text: ""
                font_style: 'Body1'
                pos_hint: {'center_x': 0.85, 'center_y': 0.35}
                valign: 'center'
        
        BoxLayout:
            size_hint: 0.7, 1
            orientation: "vertical"
            MDLabel:
                text: "HUSGA"
                font_style: 'H6'
                pos_hint: {'center_x': 0.47, 'y': 0.5}
                valign: 'top'
                halign: 'center'

            MDLabel:
                id: lr_kategorya
                text: ""
                font_style: 'Body1'
                pos_hint: {'center_x': 0.75, 'center_y': 0.7}
                valign: 'center'

            MDLabel:
                id: dt_kategorya
                text: ""
                font_style: 'Body1'
                pos_hint: {'center_x': 0.75, 'center_y': 0.7}
                valign: 'center'

            MDLabel:
                id: rfc_kategorya
                text: ""
                font_style: 'Body1'
                pos_hint: {'center_x': 0.75, 'center_y': 0.7}
                valign: 'center'